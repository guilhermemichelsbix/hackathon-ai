# üöÄ Kanban de Ideias - Guia Completo para Apresenta√ß√£o

## üìã Vis√£o Geral do Projeto

**Kanban de Ideias** √© uma plataforma visual moderna para gest√£o de pipeline de inova√ß√£o empresarial, constru√≠da com tecnologias de ponta para oferecer uma experi√™ncia colaborativa em tempo real.

### üéØ Objetivo Principal
Permitir que equipes capturem, organizem e priorizem ideias de forma visual e colaborativa, com atualiza√ß√µes em tempo real para todos os participantes.

---

## üèóÔ∏è Arquitetura Geral

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   FRONTEND      ‚îÇ    ‚îÇ    BACKEND      ‚îÇ    ‚îÇ    DATABASE     ‚îÇ
‚îÇ   (React SPA)   ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ  (Node.js API)  ‚îÇ‚óÑ‚îÄ‚îÄ‚ñ∫‚îÇ   (SQLite)      ‚îÇ
‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ React 18      ‚îÇ    ‚îÇ ‚Ä¢ Express.js    ‚îÇ    ‚îÇ ‚Ä¢ Prisma ORM    ‚îÇ
‚îÇ ‚Ä¢ TypeScript    ‚îÇ    ‚îÇ ‚Ä¢ TypeScript    ‚îÇ    ‚îÇ ‚Ä¢ SQLite        ‚îÇ
‚îÇ ‚Ä¢ Zustand       ‚îÇ    ‚îÇ ‚Ä¢ Socket.IO     ‚îÇ    ‚îÇ                 ‚îÇ
‚îÇ ‚Ä¢ Socket.IO     ‚îÇ    ‚îÇ ‚Ä¢ JWT Auth      ‚îÇ    ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üñ•Ô∏è Frontend (React SPA)

### üìÅ Estrutura de Pastas
```
src/
‚îú‚îÄ‚îÄ components/          # Componentes React
‚îÇ   ‚îú‚îÄ‚îÄ auth/           # Autentica√ß√£o
‚îÇ   ‚îú‚îÄ‚îÄ kanban/         # Funcionalidades do Kanban
‚îÇ   ‚îî‚îÄ‚îÄ ui/             # Componentes de UI (shadcn/ui)
‚îú‚îÄ‚îÄ hooks/              # Custom Hooks
‚îú‚îÄ‚îÄ layouts/            # Layouts da aplica√ß√£o
‚îú‚îÄ‚îÄ pages/              # P√°ginas principais
‚îú‚îÄ‚îÄ routes/             # Configura√ß√£o de rotas
‚îú‚îÄ‚îÄ services/           # Servi√ßos de API
‚îú‚îÄ‚îÄ store/              # Gerenciamento de estado (Zustand)
‚îú‚îÄ‚îÄ types/              # Defini√ß√µes TypeScript
‚îî‚îÄ‚îÄ locales/            # Internacionaliza√ß√£o (i18n)
```

### üîß Tecnologias Principais

#### **React 18 + TypeScript**
- **SPA (Single Page Application)** com roteamento client-side
- **Componentes funcionais** com hooks modernos
- **TypeScript** para type safety e melhor DX

#### **Gerenciamento de Estado - Zustand**
```typescript
// store/kanban.ts
interface KanbanState {
  user: User | null;
  board: Board;
  selectedCard: Card | null;
  searchQuery: string;
  selectedColumnId: string | null;
  selectedCreators: string[];
}

interface KanbanActions {
  setUser: (user: User) => void;
  loadBoard: () => Promise<void>;
  createCard: (card: CreateCardRequest) => Promise<void>;
  // ... outras a√ß√µes
}
```

#### **Real-time Communication - Socket.IO**
```typescript
// hooks/useSocket.ts
const useSocket = () => {
  useEffect(() => {
    socketService.on('card:created', handleCardCreated);
    socketService.on('card:updated', handleCardUpdated);
    socketService.on('comment:created', handleCommentCreated);
    // ... outros eventos
  }, []);
};
```

#### **UI Components - shadcn/ui + Tailwind**
- **Componentes acess√≠veis** baseados em Radix UI
- **Tailwind CSS** para estiliza√ß√£o
- **Framer Motion** para anima√ß√µes
- **Responsive design** mobile-first

#### **Internacionaliza√ß√£o (i18n)**
```typescript
// lib/i18n.ts
import i18next from 'i18next';
import { ptBR } from './locales/pt-BR.json';
import { en } from './locales/en.json';

i18next.init({
  resources: { 'pt-BR': ptBR, 'en': en },
  lng: 'pt-BR'
});
```

### üé® Componentes Principais

#### **KanbanBoard**
- **Drag & Drop** com @dnd-kit
- **Filtros din√¢micos** (busca, coluna, usu√°rios)
- **Cards interativos** com votos e a√ß√µes

#### **CardDetailsSheet**
- **Modal lateral** com detalhes completos
- **Coment√°rios** com CRUD completo
- **Enquetes** integradas
- **A√ß√µes de edi√ß√£o/exclus√£o**

#### **KanbanHeader**
- **Barra de busca** com debounce
- **Filtros multi-select** de usu√°rios
- **Filtros ativos** com chips remov√≠veis
- **Controles de coluna**

---

## ‚öôÔ∏è Backend (Node.js API)

### üìÅ Arquitetura em Camadas
```
backend/src/
‚îú‚îÄ‚îÄ controllers/        # Controladores REST (HTTP)
‚îú‚îÄ‚îÄ services/          # L√≥gica de neg√≥cio
‚îú‚îÄ‚îÄ repositories/      # Camada de acesso a dados
‚îú‚îÄ‚îÄ middleware/        # Middlewares (auth, CORS, etc)
‚îú‚îÄ‚îÄ routes/            # Defini√ß√£o de rotas
‚îú‚îÄ‚îÄ utils/             # Utilit√°rios (JWT, valida√ß√£o, etc)
‚îî‚îÄ‚îÄ types/             # Tipos TypeScript
```

### üîß Tecnologias Principais

#### **Express.js + TypeScript**
```typescript
// index.ts
app.use('/api/auth', authRoutes);
app.use('/api/cards', cardRoutes);
app.use('/api/columns', columnRoutes);
app.use('/api/polls', pollRoutes);
app.use('/api/users', userRoutes);
```

#### **Autentica√ß√£o JWT**
```typescript
// middleware/auth.ts
export const authenticateToken = (req: Request, res: Response, next: NextFunction) => {
  const token = req.headers.authorization?.split(' ')[1];
  if (!token) return res.status(401).json({ error: 'Token required' });
  
  try {
    const decoded = jwt.verify(token, JWT_SECRET) as JwtPayload;
    req.user = decoded;
    next();
  } catch (error) {
    return res.status(403).json({ error: 'Invalid token' });
  }
};
```

#### **Valida√ß√£o com Zod**
```typescript
// utils/validation.ts
export const createCardSchema = z.object({
  title: z.string().min(1).max(100),
  description: z.string().min(1).max(1000),
  columnId: z.string().uuid(),
});
```

#### **Socket.IO para Real-time**
```typescript
// utils/socketManager.ts
export class SocketManager {
  broadcastCardCreated(card: Card) {
    this.io.emit('card:created', { type: 'card:created', payload: card });
  }
  
  broadcastCommentCreated(comment: Comment) {
    this.io.emit('comment:created', { type: 'comment:created', payload: comment });
  }
}
```

### üîí Seguran√ßa e Valida√ß√£o

#### **Princ√≠pio do Menor Privil√©gio**
```typescript
// services/cardService.ts
async updateCard(id: string, data: UpdateCardRequest, userId: string) {
  const existingCard = await this.cardRepository.findById(id);
  
  // Apenas o criador pode editar
  if (existingCard.createdBy !== userId) {
    throw new ForbiddenError('Voc√™ s√≥ pode editar seus pr√≥prios cards');
  }
  
  return await this.cardRepository.update(id, data);
}
```

#### **Rate Limiting**
```typescript
// middleware/rateLimit.ts
const limiter = rateLimit({
  windowMs: 15 * 60 * 1000, // 15 minutos
  max: 100, // m√°ximo 100 requests por IP
  message: 'Muitas tentativas, tente novamente em 15 minutos'
});
```

---

## üóÑÔ∏è Database (SQLite + Prisma)

### üìä Schema do Banco
```prisma
model User {
  id           String   @id @default(cuid())
  name         String
  email        String   @unique
  passwordHash String
  locale       String   @default("pt-BR")
  createdAt    DateTime @default(now())
  cards        Card[]
  comments     Comment[]
  votes        Vote[]
  pollVotes    PollVote[]
}

model Card {
  id          String    @id @default(cuid())
  title       String
  description String
  columnId    String
  createdBy   String
  position    Int
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
  column      Column   @relation(fields: [columnId], references: [id])
  creator     User     @relation(fields: [createdBy], references: [id])
  comments    Comment[]
  votes       Vote[]
  polls       Poll[]
}

model Column {
  id        String   @id @default(cuid())
  name      String
  position  Int
  createdAt DateTime @default(now())
  cards     Card[]
}

model Comment {
  id        String   @id @default(cuid())
  body      String
  cardId    String
  createdBy String
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  card      Card     @relation(fields: [cardId], references: [id])
  creator   User     @relation(fields: [createdBy], references: [id])
}

model Vote {
  id     String @id @default(cuid())
  cardId String
  userId String
  card   Card   @relation(fields: [cardId], references: [id])
  user   User   @relation(fields: [userId], references: [id])
  @@unique([cardId, userId])
}

model Poll {
  id            String     @id @default(cuid())
  question      String
  cardId        String
  createdBy     String
  allowMultiple Boolean    @default(false)
  isSecret      Boolean    @default(false)
  isActive      Boolean    @default(true)
  endsAt        DateTime?
  createdAt     DateTime   @default(now())
  updatedAt     DateTime   @updatedAt
  card          Card       @relation(fields: [cardId], references: [id])
  creator       User       @relation(fields: [createdBy], references: [id])
  options       PollOption[]
}

model PollOption {
  id       String      @id @default(cuid())
  text     String
  pollId   String
  poll     Poll        @relation(fields: [pollId], references: [id])
  votes    PollVote[]
}

model PollVote {
  id       String      @id @default(cuid())
  pollId   String
  optionId String
  userId   String
  createdAt DateTime   @default(now())
  poll     Poll        @relation(fields: [pollId], references: [id])
  option   PollOption  @relation(fields: [optionId], references: [id])
  user     User        @relation(fields: [userId], references: [id])
  @@unique([pollId, optionId, userId])
}
```

---

## üîÑ Fluxo de Comunica√ß√£o Real-time

### üì° Socket.IO Events

#### **Card Events**
```typescript
// Backend broadcasting
socketManager.broadcastCardCreated(card);
socketManager.broadcastCardUpdated(card);
socketManager.broadcastCardDeleted(cardId);
socketManager.broadcastCardMoved(card);

// Frontend listening
socketService.on('card:created', handleCardCreated);
socketService.on('card:updated', handleCardUpdated);
socketService.on('card:deleted', handleCardDeleted);
socketService.on('card:moved', handleCardMoved);
```

#### **Comment Events**
```typescript
// Backend
socketManager.broadcastCommentCreated(comment);
socketManager.broadcastCommentUpdated(comment);
socketManager.broadcastCommentDeleted(commentId);

// Frontend
socketService.on('comment:created', handleCommentCreated);
socketService.on('comment:updated', handleCommentUpdated);
socketService.on('comment:deleted', handleCommentDeleted);
```

#### **Vote Events**
```typescript
// Backend
socketManager.broadcastCardVoted({ cardId, userId });
socketManager.broadcastCardVoteRemoved({ cardId, userId });

// Frontend
socketService.on('card:vote:added', handleCardVote);
socketService.on('card:vote:removed', handleCardVoteRemoved);
```

#### **Poll Events**
```typescript
// Backend
socketManager.broadcastPollCreated(poll);
socketManager.broadcastPollVoted({ pollId, optionId, userId });
socketManager.broadcastPollVoteRemoved({ pollId, optionId, userId });

// Frontend
socketService.on('poll:created', handlePollCreated);
socketService.on('poll:voted', handlePollVoted);
socketService.on('poll:vote:removed', handlePollVoteRemoved);
```

---

## üöÄ Fluxo de Dados Completo

### 1Ô∏è‚É£ **Cria√ß√£o de Card**
```
Frontend ‚Üí API POST /cards ‚Üí Backend Service ‚Üí Database ‚Üí Socket.IO Broadcast ‚Üí Todos os clientes
```

### 2Ô∏è‚É£ **Voto em Card**
```
Frontend ‚Üí API POST /cards/:id/votes ‚Üí Backend Service ‚Üí Database ‚Üí Socket.IO Broadcast ‚Üí Todos os clientes
```

### 3Ô∏è‚É£ **Coment√°rio**
```
Frontend ‚Üí API POST /cards/:id/comments ‚Üí Backend Service ‚Üí Database ‚Üí Socket.IO Broadcast ‚Üí Todos os clientes
```

### 4Ô∏è‚É£ **Enquete**
```
Frontend ‚Üí API POST /polls ‚Üí Backend Service ‚Üí Database ‚Üí Socket.IO Broadcast ‚Üí Todos os clientes
```

---

## üîê Sistema de Permiss√µes

### üìã Regras de Acesso

#### **Cards (Ideias)**
- ‚úÖ **Todos** podem: ver, mover entre colunas, votar, comentar
- üîí **Apenas criador** pode: editar conte√∫do, excluir

#### **Coment√°rios**
- ‚úÖ **Todos** podem: ver coment√°rios
- üîí **Apenas criador** pode: editar, excluir

#### **Enquetes**
- ‚úÖ **Todos** podem: ver, votar
- üîí **Apenas criador do card** pode: criar, editar, excluir

#### **Colunas**
- ‚úÖ **Todos** podem: ver, reordenar
- üîí **Admin** pode: criar, editar, excluir

---

## üéØ Funcionalidades Principais

### üìã **Gest√£o de Cards**
- **Criar** ideias com t√≠tulo e descri√ß√£o
- **Editar** (apenas criador)
- **Mover** entre colunas (drag & drop)
- **Excluir** (apenas criador)
- **Votar** (like/unlike)

### üó≥Ô∏è **Sistema de Enquetes**
- **Criar** enquetes por card (apenas dono do card)
- **Votar** em m√∫ltiplas op√ß√µes
- **Voto secreto** ou p√∫blico
- **Enquetes ativas/inativas**

### üí¨ **Coment√°rios**
- **Adicionar** coment√°rios
- **Editar** (apenas criador)
- **Excluir** (apenas criador)
- **Timestamp** autom√°tico

### üîç **Busca e Filtros**
- **Busca por texto** (t√≠tulo, descri√ß√£o, criador)
- **Filtro por coluna** (dropdown)
- **Filtro por usu√°rios** (multi-select)
- **Filtros ativos** com chips remov√≠veis

### üìä **Real-time Updates**
- **Todas as a√ß√µes** s√£o sincronizadas instantaneamente
- **Sem necessidade de refresh** da p√°gina
- **Experi√™ncia colaborativa** fluida

---

## üõ†Ô∏è Tecnologias e Bibliotecas

### üñ•Ô∏è **Frontend**
```json
{
  "react": "^18.3.1",           // Framework principal
  "typescript": "^5.8.3",       // Type safety
  "zustand": "^5.0.8",          // Estado global
  "socket.io-client": "^4.8.1", // Real-time
  "react-router-dom": "^6.30.1", // Roteamento
  "framer-motion": "^12.23.15", // Anima√ß√µes
  "tailwindcss": "^3.4.17",     // CSS framework
  "i18next": "^25.5.2",         // Internacionaliza√ß√£o
  "@dnd-kit/core": "^6.3.1",    // Drag & drop
  "lucide-react": "^0.462.0"    // √çcones
}
```

### ‚öôÔ∏è **Backend**
```json
{
  "express": "^4.19.2",         // Framework web
  "socket.io": "^4.8.1",        // Real-time
  "@prisma/client": "^5.19.1",  // ORM
  "jsonwebtoken": "^9.0.2",     // Autentica√ß√£o
  "bcryptjs": "^2.4.3",         // Hash de senhas
  "zod": "^3.25.76",            // Valida√ß√£o
  "cors": "^2.8.5",             // CORS
  "helmet": "^7.1.0"            // Seguran√ßa
}
```

### üóÑÔ∏è **Database**
```json
{
  "sqlite": "Database local",
  "prisma": "^5.19.1"           // ORM e migrations
}
```

---

## üöÄ Como Executar o Projeto

### 1Ô∏è‚É£ **Instala√ß√£o**
```bash
# Frontend
npm install

# Backend
cd backend && npm install
```

### 2Ô∏è‚É£ **Configura√ß√£o do Banco**
```bash
# Gerar cliente Prisma
npm run backend:db:generate

# Aplicar migrations
npm run backend:db:push

# Popular com dados iniciais
npm run backend:db:seed
```

### 3Ô∏è‚É£ **Execu√ß√£o**
```bash
# Backend (porta 3001)
npm run backend:dev

# Frontend (porta 5173)
npm run dev
```

---

## üìà Diferenciais T√©cnicos

### ‚ö° **Performance**
- **SPA** com carregamento r√°pido
- **Lazy loading** de componentes
- **Debounce** em buscas
- **Otimistic updates** para UX fluida

### üîí **Seguran√ßa**
- **JWT** com expira√ß√£o
- **Rate limiting** contra spam
- **Valida√ß√£o rigorosa** com Zod
- **Princ√≠pio do menor privil√©gio**

### üåê **Escalabilidade**
- **Arquitetura em camadas** bem definida
- **Separa√ß√£o de responsabilidades**
- **Type safety** end-to-end
- **Real-time** eficiente com Socket.IO

### üé® **UX/UI**
- **Design system** consistente
- **Responsive** mobile-first
- **Anima√ß√µes** suaves
- **Feedback visual** imediato

---

## üéØ Conclus√£o

O **Kanban de Ideias** √© uma aplica√ß√£o moderna e robusta que demonstra:

- ‚úÖ **Arquitetura escal√°vel** com separa√ß√£o clara de responsabilidades
- ‚úÖ **Real-time collaboration** com Socket.IO
- ‚úÖ **Type safety** completo com TypeScript
- ‚úÖ **Seguran√ßa** implementada seguindo boas pr√°ticas
- ‚úÖ **UX moderna** com componentes acess√≠veis
- ‚úÖ **Internacionaliza√ß√£o** completa
- ‚úÖ **Performance otimizada** para colabora√ß√£o em tempo real

**Ideal para apresentar conhecimentos em:**
- React 18 + TypeScript
- Node.js + Express
- Socket.IO para real-time
- Prisma ORM
- Autentica√ß√£o JWT
- Arquitetura de software
- UI/UX moderna
